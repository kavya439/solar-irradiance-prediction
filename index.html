<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar Irradiance Prediction | AI Research Project</title>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/brain.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-blue: #2c3e50;
            --accent-orange: #f39c12;
            --light-green: #dff9fb;
            --dark-green: #27ae60;
            --bg-gradient: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        * { box-sizing: border-box; scroll-behavior: smooth; }
        
        body {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            background-image: url('https://images.unsplash.com/photo-1508514177221-188b1cf16e9d?q=80&w=2000&auto=format&fit=crop');
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            color: #333;
            overflow-x: hidden;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.4);
            z-index: -1;
        }

        /* --- NAVIGATION --- */
        nav {
            background: white;
            padding: 15px 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .logo { font-weight: bold; font-size: 1.5rem; color: var(--primary-blue); }
        .logo span { color: var(--accent-orange); }

        .nav-links { display: flex; gap: 20px; }
        .nav-links a { text-decoration: none; color: var(--primary-blue); font-weight: 500; font-size: 0.9rem; transition: 0.3s; cursor: pointer; }
        .nav-links a:hover { color: var(--accent-orange); }

        /* --- PAGE LAYOUT --- */
        .page {
            display: none;
            min-height: 100vh;
            padding: 100px 10% 40px;
            animation: fadeIn 0.5s ease-in;
        }
        .page.active { display: block; }

        .card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            width: 100%;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- BUTTONS & INPUTS --- */
        button {
            padding: 12px 25px;
            margin: 10px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s;
        }

        .btn-primary { background: var(--primary-blue); color: white; }
        .btn-primary:hover { background: #1a252f; transform: translateY(-2px); }
        
        .btn-accent { background: var(--accent-orange); color: white; }
        .btn-accent:hover { background: #e67e22; transform: translateY(-2px); }

        select, input {
            width: 100%;
            max-width: 400px;
            padding: 12px;
            margin: 10px 0;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .status-box {
            background: #f8f9fa;
            border-left: 4px solid var(--accent-orange);
            padding: 15px;
            margin: 20px 0;
            font-size: 0.9rem;
        }

        .result-display {
            background: var(--primary-blue);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .home-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 40px;
            text-align: left;
            animation: fadeInUp 1s ease-out;
        }

        .info-box {
            padding: 20px;
            border-radius: 15px;
            background: #f8f9fa;
            border-top: 4px solid var(--primary-blue);
            transition: transform 0.3s ease;
        }
.info-box:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.info-box h3 {
    margin-top: 0;
    font-size: 1.1rem;
    color: var(--accent-orange);
}

.info-box p {
    font-size: 0.85rem;
    line-height: 1.5;
    margin-bottom: 0;
}


        @media (max-width: 600px) {
            .home-info-grid { grid-template-columns: 1fr; }
        }
.efficiency-bar {
    background: rgba(255, 255, 255, 0.15); /* Translucent gray bar */
    padding: 15px;
    border-radius: 12px;
    margin: 25px 0;
    font-size: 1.1rem;
    font-weight: 600;
}
    </style>
</head>
<body>

<nav>
    <div class="logo">SOLAR <span>AI</span></div>
    <div class="nav-links">
        <a onclick="showPage('home')">Home</a>
        <a onclick="showPage('locations')">Prediction Tool</a>
        <a onclick="showPage('about')">Technology</a>
        <a onclick="showPage('howtouse')">How to use</a>
        <a onclick="showPage('team')">Team</a>
    </div>

</nav>

/*<div id="mySidenav" class="sidenav">
    <span class="closebtn" onclick="closeNav()">&times;</span>
    <a href="#" onclick="navTo('home')">üè† Home</a>
    <a href="#" onclick="navTo('predict')">‚òÄÔ∏è Prediction Tool</a>
    <a href="#" onclick="navTo('about')">üìñ Technology</a>
    <a href="#" onclick="navTo('team')">üë• Research Team</a>
    <a href="#" onclick="navTo('howtouse')">How to use‚ùì</a>
</div>*/


<div class="page active" id="home">
    <div class="card" style="text-align: center;">
        <h1 style="margin-top:0;">Solar Irradiance Prediction</h1>
        <p>Using Artificial Intelligence to forecast the future of renewable energy.</p>
        <img src="https://images.unsplash.com/photo-1509391366360-2e959784a276?q=80&w=1000&auto=format&fit=crop" style="width: 100%; border-radius: 15px; height: 250px; object-fit: cover;">
        
        <div style="margin-top: 30px;">
            <button class="btn-accent" onclick="showPage('locations')">Start Forecast</button>
            <button class="btn-primary" onclick="showPage('about')">About Project</button>
        </div>

        <div style="text-align: left; margin: 30px 0; border-top: 1px solid #eee; padding-top: 20px;">
            <h2 style="color: var(--primary-blue);">What is Solar Irradiance?</h2>
            <p>Solar irradiance is the measure of the power per unit area received from the Sun. It is essentially the "strength" of the sunlight, measured in Watts per square meter (W/m¬≤).</p>

       <h2 style="color: var(--primary-blue); font-size: 1.4rem; margin-top: 20px; margin-bottom: 10px;">Why Predict It?</h2>
            <ul style="font-size: 0.95rem; color: #555; line-height: 1.6; padding-left: 20px;">
                <li><b>Grid Stability:</b> Helps power plants balance the energy supply between solar and traditional sources.</li>
                <li><b>Efficiency:</b> Allows solar farm operators to schedule maintenance during low-light periods.</li>
                <li><b>Sustainability:</b> Reduces reliance on "peaker" fossil fuel plants by providing reliable clean energy forecasts.</li>
            </ul>
        </div>

<div style="text-align: left; margin: 40px 0; padding-bottom: 20px; border-bottom: 1px solid #eee">
            <h2 style="color: var(--primary-blue);">Empowering Clean Energy</h2>
            <p>Empowering Smart Energy Our AI technology makes renewable energy more reliable by taking the guesswork out of solar power.Predicting this value accurately allows power plants to balance energy supply, schedule maintenance, and reduce reliance on fossil fuels.By making solar power more dependable, we help ensure a steady flow of clean energy into our homes and industries."</p>
</div>

        <div class="home-info-grid">
             <div class="info-box" style="border-top-color: var(--primary-blue);">
                <h3> Our Vision</h3>
                <p>To lead the transition to a sustainable future where machine learning and solar data create a perfectly efficient and predictable green energy grid.</p>
            </div>
            <div class="info-box" style="border-top-color: var(--primary-blue);">
                 <h3> Our Mission</h3>
                <p>To provide precise, AI-driven irradiance forecasting that empowers engineers to optimize clean energy consumption and reduce global carbon footprints.</p>
            </div>

        </div>
    </div>
</div>

<div class="page" id="about">
    <div class="card">
        <h2>The Technology</h2>
        <p>This tool utilizes <b>Neural Networks</b> (Deep Learning) to process meteorological data. By analyzing Temperature, Humidity, and Cloud Cover, the AI identifies non-linear patterns in solar intensity.</p>
        <div style="background: #eef2f3; padding: 20px; border-radius: 10px;">
            <h3 style="color: var(--primary-blue);">üéØ The Concept</h3>
            <p>Our model implements a client-side inference engine using <b>Brain.js</b>. This allows for real-time solar forecasting directly in the browser without server latency.</p>
        </div>
        <button class="btn-primary" style="margin-top:20px;" onclick="showPage('home')">‚¨Ö Back to Home</button>
    </div>
</div>

<div class="page" id="howtouse">
    <div class="card">
        <h2>How to Use</h2>
        <p>1. Navigate to the <b>Prediction Tool</b>.<br>
           2. Select your <b>Region</b> from the grid.<br>
           3. Choose a specific <b>Area</b> and set the <b>Date/Time</b>.<br>
           4. Click <b>Generate</b> to trigger the Neural Network inference.</p>
        <button class="btn-primary" style="margin-top:20px;" onclick="showPage('home')">‚¨Ö Back to Home</button>
    </div>
</div>

<div class="page" id="locations">
    <div class="card">
        <h2 style="text-align: center;">üìç Select Location</h2>
        <div class="grid-container" id="locGrid"></div>
        <button class="btn-primary" onclick="showPage('home')">‚¨Ö Back</button>
    </div>
</div>

<div class="page" id="predict">
            <h2 id="locTitle" style="text-align: center;">üìç Dashboard</h2>
        <div style="text-align: center;">
            <label>Select Specific Area:</label><br>
            <select id="area"><option value="">Select Area</option></select><br>
            <label>Forecast Date:</label><br>
            <input type="date" id="date"><br>
            <label>Forecast Time:</label><br>
            <input type="time" id="time" value="12:00"><br>
            <button class="btn-accent" style="width: 100%; max-width: 400px;" onclick="runPrediction()">Generate AI Prediction</button>
            <div class="status-box" id="statusText" style="display:none;"></div>
        </div>
        <button class="btn-primary" onclick="showPage('locations')">‚¨Ö Change Location</button>
    </div>
</div>

<div class="page" id="resultPage">
    <div class="card" id="printableReport">
        <h2 style="text-align: center; color: var(--primary-blue);">üìä Prediction Report</h2>
        <div id="finalResult" class="result-display"></div>
        
        <div id="liveWeatherStats" style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px;"></div>

        <div style="margin-top: 20px;">
            <h3 style="font-size: 1rem; text-align: center;">24-Hour Temperature Trend</h3>
            <canvas id="tempChart" style="width: 100%; height: 200px;"></canvas>
        </div>
        
        <div style="text-align: center; margin-top: 20px;" class="no-print">
            <button class="btn-accent" onclick="downloadPDF()">üì• Download PDF Report</button>
            <button class="btn-primary" onclick="showPage('home')">üè† Home</button>
        </div>
    </div>
</div>

<div class="page" id="team">
    <div class="card">
        <h2 style="text-align: center;">üë©‚Äçüéì Research Team</h2>
        <div class="grid-container" style="text-align: center;">
            <div style="padding:10px; border-bottom: 2px solid var(--primary-blue);"><b>B. Vandhana</b><br><small>222U1A3704</small></div>
            <div style="padding:10px; border-bottom: 2px solid var(--primary-blue);"><b>K. J. Subhasri</b><br><small>222U1A3724</small></div>
            <div style="padding:10px; border-bottom: 2px solid var(--primary-blue);"><b>N. Prasanthi</b><br><small>222U1A3737</small></div>
            <div style="padding:10px; border-bottom: 2px solid var(--primary-blue);"><b>P. Saranya</b><br><small>222U1A3744</small></div>
            <div style="padding:10px; border-bottom: 2px solid var(--primary-blue);"><b>P. Kavyanjali</b><br><small>222U1A3746</small></div>
        </div>
    </div>
</div>

<footer style="background: rgba(30, 39, 46, 0.98); color: white; padding: 20px 10%; margin-top: 20px; border-top: 3px solid var(--accent-orange); text-align: center;">
    <p style="font-size: 0.8rem; opacity: 0.7;">&copy; 2026 Solar Irradiance Prediction | Geetanjali Institute Of Science And Technology</p>
</footer>

<script>
const areaData = {
    Nellore: { lat: 14.4426, lon: 79.9865, areas: ["Stonehousepet", "Vedayapalem", "Magunta Layout", "Balaji Nagar"] },
    Chennai: { lat: 13.0827, lon: 80.2707, areas: ["T Nagar", "Anna Nagar", "Velachery", "Tambaram"] },
    Hyderabad: { lat: 17.3850, lon: 78.4867, areas: ["Gachibowli", "Madhapur", "Kukatpally", "Ameerpet"] },
    Bangalore: { lat: 12.9716, lon: 77.5946, areas: ["Whitefield", "Indiranagar", "Electronic City", "Yelahanka"] },
    Vijayawada: { lat: 16.5062, lon: 80.6480, areas: ["Benz Circle", "Patamata", "Poranki", "Governorpet"] },
    Visakhapatnam: { lat: 17.6868, lon: 83.2185, areas: ["MVP Colony", "Gajuwaka", "Seethammadhara", "Rushikonda"] },
    Tirupati: { lat: 13.6288, lon: 79.4192, areas: ["Mangalam", "RC Road", "Renigunta"] },
    Guntur: { lat: 16.3067, lon: 80.4365, areas: ["Brodipet", "Lakshmipuram", "Pattabhipuram"] }
};

let currentLocation = "";
let myChart = null;

function showPage(id) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    window.scrollTo(0,0);
}

// Initialize Location Grid
const locGrid = document.getElementById('locGrid');
locGrid.innerHTML = "";

Object.keys(areaData).forEach(city => {
    const btn = document.createElement('button');
    btn.className = "btn-primary";
    btn.innerText = city;
    btn.onclick = () => {
        currentLocation = city;
        document.getElementById("locTitle").innerText = "üìç Region: " + city;
        const areaSelect = document.getElementById("area");
        areaSelect.innerHTML = '<option value="">Select Area</option>';
        areaData[city].areas.forEach(a => {
            const opt = document.createElement("option");
            opt.value = a; opt.textContent = a;
            areaSelect.appendChild(opt);
        });
        showPage('predict');
    };
    locGrid.appendChild(btn);
});

async function runPrediction() {
    const area = document.getElementById("area").value;
    const date = document.getElementById("date").value;
    if (!area || !date) { alert("Please select area and date!"); return; }

    const status = document.getElementById("statusText");
    status.style.display = "block";
    status.innerHTML = "üß† Training Local Neural Network...";

    try {
        const coords = areaData[currentLocation];
        const timeInput = document.getElementById("time").value;
        const hour = parseInt(timeInput.split(":")[0]);

        // Fetch Live Weather for AI Inputs
        const meteoRes = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${coords.lat}&longitude=${coords.lon}&current=temperature_2m,cloud_cover,relative_humidity_2m&hourly=temperature_2m&timezone=auto`).then(r => r.json());

        // Neural Network Logic (Brain.js)
        const net = new brain.NeuralNetwork();
        net.train([
            { input: { temp: 0.6, clouds: 0.1, hour: 0.5 }, output: { irr: 0.9 } },
            { input: { temp: 0.3, clouds: 0.8, hour: 0.5 }, output: { irr: 0.2 } },
            { input: { temp: 0.2, clouds: 0.2, hour: 0.8 }, output: { irr: 0.1 } }
        ]);

        const result = net.run({
            temp: meteoRes.current.temperature_2m / 50,
            clouds: meteoRes.current.cloud_cover / 100,
            hour: hour / 24
        });

        const irrValue = result.irr * 1050;
        const strength = Math.min((irrValue / 1100) * 100, 100).toFixed(0);
let energyMsg = strength > 70 ? "‚òÄÔ∏è High Energy: Optimal peak for generation.": (strength > 30 ? "‚õÖ Moderate: Stable energy flow." : "‚òÅÔ∏è Low: Minimal generation predicted.");

        document.getElementById("finalResult").innerHTML = `
            <h3 style="margin:0;">Location: ${currentLocation}, ${area}</h3>
            <div style="font-size:0.7rem; color:#27ae60; font-weight:bold;">CLEAN ENERGY FORECAST STRENGTH</div>
            <h1 style="font-size: 3rem; color: var(--accent-orange); margin: 10px 0;">${irrValue.toFixed(2)} <small style="font-size:1rem; color:white;">W/m¬≤</small></h1>
            <div class="efficiency-bar">
            ${strength}% Efficiency Potential ‚Äî ${energyMsg}
            </div>
            <p>Date: ${date} | Time: ${timeInput}</p>
           `;
            
        document.getElementById("liveWeatherStats").innerHTML = `
            <div style="background:var(--primary-blue); color:white; padding:15px; border-radius:10px;">
                <small> üå° Input Temperature</small>
                <div style="font-size:1.5rem;">${meteoRes.current.temperature_2m}¬∞C</div>
            </div>
            <div style="background:var(--primary-blue); color:white; padding:15px; border-radius:10px;">
                <small> üíß Input Cloud Cover</small>
                <div style="font-size:1.5rem;">${meteoRes.current.cloud_cover}%</div>
            </div>
        `;

        renderChart(meteoRes.hourly.temperature_2m.slice(0, 24));
        status.style.display = "none";
        showPage('resultPage');
    } catch (e) { status.innerHTML = "‚ùå Connection Error."; }
}

function renderChart(data) {
    const ctx = document.getElementById('tempChart').getContext('2d');
    if(myChart) myChart.destroy();
    myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: Array.from({length: 24}, (_, i) => i + ":00"),
            datasets: [{ data: data, borderColor: '#f39c12', fill: true, tension: 0.4 }]
        },
        options: { plugins: { legend: { display: false } } }
    });
}

function downloadPDF() {
    const element = document.getElementById('printableReport');
    const opt = { margin: 10, filename: 'Solar_Report.pdf', html2canvas: { scale: 2 }, jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' } };
    html2pdf().set(opt).from(element).save();
}
</script>
</body>
</html>
